typeof(colnames(mycolnames)[i])
mytarget <- colnames(mycolnames)[i]
myFormula <- as.formula(paste(mytarget,"~ V2"))
kruskal.test(V154 ~ V2, data = mydata)
kruskal.test(myFormula, data = mydata)
source('~/.active-rstudio-document')
source('/dump/writingswork/draftthesis/thesis.R')
kw$statistic
kw$p.value
source('/dump/writingswork/draftthesis/thesis.R')
suppressMessages()
source('~/.active-rstudio-document')
source('/dump/writingswork/draftthesis/thesis.R')
dunn.test
source('/dump/writingswork/draftthesis/thesis.R')
kruskal.test(as.formula(paste(colnames(mycolnamessevendays)[i], "~V2"))
)
kruskal.test(as.formula(paste(colnames(mycolnamessevendays)[i], "~V2")), data = mydatasevendays)
sd <- kruskal.test(as.formula(paste(colnames(mycolnamessevendays)[i], "~V2")), data = mydatasevendays)
rm(sd)
lool <- invisible(kruskal.test(as.formula(paste(colnames(mycolnamessevendays)[i], "~V2")), data = mydatasevendays))
lool
```{r, echo=FALSE, message=FALSE, results='asis'}
pandoc.table(aggregate(mydatasevendays[,i], list(mydatasevendays$V2), mean, na.rm = TRUE), style = "rmarkdown")
source('/dump/writingswork/draftthesis/thesis.R')
pandoc.table(aggregate(mydatasevendays[,i], list(mydatasevendays$V2), mean, na.rm = TRUE), style = "rmarkdown")
typeof(pandoc.table(aggregate(mydatasevendays[,i], list(mydatasevendays$V2), mean, na.rm = TRUE), style = "rmarkdown"))
?pandoc.table
source('/dump/writingswork/draftthesis/thesis.R')
mycolnamessevendays[i]
typeof(mycolnamessevendays[i])
typeof(mycolnamessevendays)
typeof(mycolnamessevendays[[i])
typeof(mycolnamessevendays[[i]])
source('/dump/writingswork/draftthesis/thesis.R')
mydatasevendays
mydatasevendays[mydatasevendays$V2 == "D"]
length(mydatasevendays[mydatasevendays$V2 == "D"])
length(mydatasevendays
)
subset(mydatasevendays, V2 == "D")
subset(mydatasevendays, V2 == "D" || V2 == "V" || V2 == "C" )
subset(mydatasevendays, V2 == "D" || V2 == "V" || V2 == "C" )$V2
subset(mydatasevendays, ((V2 == "D") | (V2 == "V") | (V2 == "C")) )$V2
subset(mydatasevendays, ((V2 == "D") | (V2 == "V") | (V2 == "C")) )
source('/dump/writingswork/draftthesis/thesis.R')
```{r, echo=FALSE, message=FALSE, results='asis'}
source('/dump/writingswork/draftthesis/thesis.R')
invivodatasubset
invivodata
invivodata$V2
source('/dump/writingswork/draftthesis/thesis.R')
View(invivodataonedays)
levels(invivodataonedays)
levels(invivodataonedays$V2)
levels(invivodataonedays$V2)[levels(invivodataonedays$V2)=="C"] <- "A"
levels(invivodataonedays$V2)
levels(invivodataonedays$V2)[levels(invivodataonedays$V2)=="A"] <- "C"
levels(invivodataonedays$V2)
invivodataonedays$V2
source('/dump/writingswork/draftthesis/thesis.R')
reportstats(invivodatathreedays, invivocolnamethreedays)
i
source('/dump/writingswork/draftthesis/thesis.R')
i
reportstats(invivodatathreedays, invivocolnamethreedays)
invivocolnamethreedays
reportstats(invivodatasevendays, invivocolnamesevendays)
source('/dump/writingswork/draftthesis/thesis.R')
reportstats(invivodatathreedays, invivocolnamethreedays)
View(invivocolnamethreedays)
View(invivodatathreedays)
typeof(invivodataonedays$V1)
typeof(invivodataonedays$V2)
typeof(invivodataonedays$V3)
typeof(invivodataonedays$V5)
typeof(invivodataonedays$V6)
invivodataonedays$V1
typeof(invivodataonedays$V60)
i
i <-4
i
invivocolnames[[i]] == "Animal"
invivodataonedays[[i]] == "Animal"
invivodataonedays[[i]] == "V1"
invivocolnameonedays[[i]]
invivocolnameonedays[[1]]
invivocolnameonedays[[1]] =="animal"
invivocolnameonedays[[1]] == "Animal"
source('/dump/writingswork/draftthesis/thesis.R')
View(invivodatasevendays)
plot(cars)
plotColumnTwoGroups(invivocolnameonedays,
analyzedColName = "day.1.body.weight..g.",
groupedConditionColumnName = "treatment",
otherConditionColumnName = "treatment",
otherConditionSet = c("V", "D", "T"),
xtitle = "day.1.body.weight..g."")
)
""
plotColumnTwoGroups(invivocolnameonedays,
analyzedColName = "day.1.body.weight..g.",
groupedConditionColumnName = "treatment",
otherConditionColumnName = "treatment",
otherConditionSet = c("V", "D", "T"),
xtitle = "day.1.body.weight..g."
)
plotColumnTwoGroups(invivodataonedays,
analyzedColName = "day.1.body.weight..g.",
groupedConditionColumnName = "treatment",
otherConditionColumnName = "treatment",
otherConditionSet = c("V", "D", "T"),
xtitle = "day.1.body.weight..g."
)
warnings()
View(invivodataonedays)
invivodataonedays$day.1.body.weight..g.
invivodataonedays$treatment
plotTimeline(shortdf,
analyzedColName = ytitle,
timeConditionColumnName = variableColname,
otherConditionColumnName = "treatment",
otherConditionSet = conds,
xtitle = variableColname)
plotTimeline(invivodataonedays,
analyzedColName = "day.1.body.weight..g.",
timeConditionColumnName = variableColname,
otherConditionColumnName = "treatment",
otherConditionSet = c("V", "D", "T"),
xtitle = "day")
plotTimeline(invivodataonedays,
analyzedColName = "day.1.body.weight..g.",
timeConditionColumnName = c("day.1.body.weight..g.", "day.1.body.weight..g."),
otherConditionColumnName = "treatment",
otherConditionSet = c("V", "D", "T"),
xtitle = "day")
plotTimeline(invivodataonedays,
analyzedColName = "day.1.body.weight..g.",
timeConditionColumnName = "day.1.body.weight..g.",
otherConditionColumnName = "treatment",
otherConditionSet = c("V", "D", "T"),
xtitle = "day")
source('/dump/writingswork/draftthesis/thesis.R')
reportstats(invivodataonedays, invivocolnameonedays)
source('/dump/writingswork/draftthesis/thesis.R')
reportstats(invivodataonedays, invivocolnameonedays)
source('/dump/writingswork/draftthesis/thesis.R')
data.frame(c(1, 2, 3), c("a", "b", "c"))
setNames(data.frame(c(1, 2, 3), c("a", "b", "c")), c("x", "y"))
lol <- setNames(data.frame(c(1, 2, 3), c("a", "b", "c")), c("x", "y"))
lol$x
lol$[c(1,2)]
lol[, c(1,2)]
lol[, c(1)]
source('/dump/writingswork/draftthesis/thesis.R')
reportstats(invivodatasevendays, invivocolnamesevendays)
i<-3
kw <- kruskal.test(as.formula(paste(colnames(invivodata)[i], "~treatment")), data = invivodata)
kw <- kruskal.test(as.formula(paste(colnames(invivodatasevendays)[i], "~treatment")), data = invivodata)
kw <- kruskal.test(as.formula(paste(colnames(invivodatasevendays)[i], "~treatment")), data = invivodatasevendays)
dunns <- dunn.test(invivodatasevendays[,i], invivodatasevendays$treatment, method = "bonferroni")
data.frame(contrastsfour, dunns$P)
data.frame(contrastsfour, dunns$P)[, c(5,1)]
data.frame(contrastsfour, dunns$P)[, c(2,1)]
data.frame(contrastsfour, dunns$P)[c(5,1), ]
str(data.frame(contrastsfour, dunns$P)[c(5,1), ])
pandoc.table.return(dunnsreport, style = "rmarkdown")
pandoc.table.return(data.frame(contrastsfour, dunns$P)[c(5,1), ], style = "rmarkdown")
pandoc.table.return(data.frame(contrastsfour, dunns$P)[c(5,1), ], style = "rmarkdown", )
sizeof(data.frame(contrastsfour, dunns$P)[c(5,1), ])
size(data.frame(contrastsfour, dunns$P)[c(5,1), ])
length(data.frame(contrastsfour, dunns$P)[c(5,1), ])
din(data.frame(contrastsfour, dunns$P)[c(5,1), ])
dim(data.frame(contrastsfour, dunns$P)[c(5,1), ])
rownames(data.frame(contrastsfour, dunns$P)[c(5,1), ])
aggregate
?aggregate
aggregate(invivodata[,i], list(invivodata$treatment), longdescription)
aggregate(invivodatasevendays[,i], list(invivodatasevendays$treatment), longdescription)
aggregate(invivodatasevendays[,4], list(invivodatasevendays$treatment), longdescription)
mean(invivodatasevendays[,4])
mean(subset(invivodatasevendays[,4], treatment == "D"))
mean(subset(invivodatasevendays, treatment == "D")[,4])
mean(subset(invivodatasevendays, treatment == "V")[,4])
dunns
dunns$P
dunns$P[c(1,5)]
meanV <- mean(subset(invivodatasevendays, treatment == "V")[,4])
meanD <- mean(subset(invivodatasevendays, treatment == "D")[,4])
meanV > meanD
(meanV > meanD) ? "V > D" : "V < D"
(meanV > meanD) ? 'V > D' : 'V < D'
(meanV > meanD) ? 1:2
(meanV > meanD)?1:2
meanV
meanD
ifelse(meanV > meanD, 'V > D' , 'V < D')
plotTimeline(invivodatasevendays, analyzedColName = c("day.1.body.weight..g.", "day.2.body.weight..g.", "day.3.body.weight..g.", "day.4.body.weight..g.", "day.5.body.weight..g."), timeConditionSet = c(1, 2, 3, 4, 5))
plotTimeline(invivodatasevendays, analyzedColName = "day.1.body.weight..g.", timeConditionColumnName = "day",
otherConditionColumnName = "treatment",
otherConditionSet = c("V", "D"),
xtitle = "day.1.body.weight..g.")
plotTimeline(invivodatasevendays, analyzedColName = "day.1.body.weight..g.", timeConditionColumnName = "day",
otherConditionColumnName = "treatment",
xtitle = "day.1.body.weight..g.")
colnames(invivocolnamesevendays)
colnames(invivodatasevendays)
myseries <- c(
"day.1.body.weight..g.",
"day.2.body.weight..g." ,
"day.3.body.weight..g."  ,
"day.4.body.weight..g."   ,
"day.5.body.weight..g."    ,
"day.6.body.weight..g."     ,
"day.7.body.weight..g."      ,
"day.8.body.weight..g."   )
""
myseries <- c(
"day.1.body.weight..g.",
"day.2.body.weight..g." ,
"day.3.body.weight..g."  ,
"day.4.body.weight..g."   ,
"day.5.body.weight..g."    ,
"day.6.body.weight..g."     ,
"day.7.body.weight..g."      ,
"day.8.body.weight..g."   )
plotTimeline(invivodatasevendays, analyzedColName = myseries, timeConditionColumnName = "day",
otherConditionColumnName = "treatment",
otherConditionSet = c("V", "D"),
xtitle = "day.1.body.weight..g.")
source('/dump/writingswork/reports/commonfuncs.R')
extractWithTwoIndependentVars(invivodatasevendays, )
invivodatasevendays
invivodatasevendays[invivodatasevendays$treatment %in% c("V"),]
invivocolnames[[i]]
invivocolnamesevendays[[2]]
if (invivocolnamesevendays[[2]] %in% c("animal", "treatment")) cat (2); else cat (3)
if (invivocolnamesevendays[[2]] %in% c("animal", "treatment")) cat (2); else cat(3)
if (invivocolnamesevendays[[2]] %in% c("animal", "treatment")) cat (2) else cat (3)
if (invivocolnamesevendays[[3]] %in% c("animal", "treatment")) cat (2) else cat (3)
if (invivocolnamesevendays[[1]] %in% c("animal", "treatment")) cat (2) else cat (3)
if (invivocolnamesevendays[[10]] %in% c("animal", "treatment")) cat (2) else cat (3)
source('/dump/writingswork/draftthesis/thesis.R')
reportstats(invivodatasevendays, invivocolnamesevendays)
knit("2012.08.23.7daysTD.Rmd")
knit("data//2012.08.23.7daysTD.Rmd")
?knit
render("data//2012.08.23.7daysTD.Rmd", "pdf_document")
pandoc("data//2012.08.23.7daysTD.Rmd", "pdf_document")
pandoc("data//2012.08.23.7daysTD.md", "pdf_document")
knit("data//2012.08.23.7daysTD.Rmd") ; pandoc("2012.08.23.7daysTD.md", "pdf_document")
?pandoc
system("pandoc -h")
knit("data//2012.08.23.7daysTD.Rmd") ; pandoc("2012.08.23.7daysTD.md", format='latex')
conds <- c("V", "D", "C")
shortdf <- invivodatasevendays[ invivodatasevendays %in% conds, colnames %in% c("animal", myseries)]
myseries <- c(
"day.1.body.weight..g.",
"day.2.body.weight..g." ,
"day.3.body.weight..g."  ,
"day.4.body.weight..g."   ,
"day.5.body.weight..g."    ,
"day.6.body.weight..g."     ,
"day.7.body.weight..g."      ,
"day.8.body.weight..g."   )
shortdf <- invivodatasevendays[ invivodatasevendays %in% conds, colnames %in% c("animal", myseries)]
shortdf <- invivodatasevendays[ invivodatasevendays %in% conds, colnames(invivodatasevendays) %in% c("animal", myseries)]
shortdf
shortdf <- invivodatasevendays[ invivodatasevendays$treatment %in% conds, colnames(invivodatasevendays) %in% c("animal", myseries)]
shortdf
shortdf <- melt(shortdf, id = c("animal"))
library(ggplot2)
library(stringr)
library(plyr)
library(grid)
library(gridExtra)
library(methods)
library(xtable)
shortdf <- melt(shortdf, id = c("animal"))
library(reshape)
shortdf <- melt(shortdf, id = c("animal"))
library(reshape)
shortdf <- melt(shortdf, id = c("animal"))
shortdf
colnames(shortdf)[2] <- "day"
colnames(shortdf)[3] <- "bodyweight"
labelswrap  <- lapply(strwrap(levels(shortdf[,1]), 7, simplify = FALSE),
paste, collapse = "\n")
thisylabel <- paste( strwrap( deunderscorefy( colnames(shortdf)[2] ),
28,
simplify = TRUE),
collapse = "\n")
myplot <- ggplot(shortdf) +
aes_string( x = colnames(shortdf)[2], y = colnames(shortdf)[3], group = colnames(shortdf)[1]) +
stat_summary( geom = "line",
size = 2,
fun.y = mean,
position = position_dodge(.2),
aes_string(color = colnames(shortdf)[1]) ) +
scale_color_manual( values = meaningfulpalette ) +
#scale_color_manual(labels = levels(shortdf[ , 1]), values = levels(shortdf[ , 1])) +
#stat_summary(fun.y = mean, geom = "bar", position="dodge") +
#stat_smooth(size = 1) +
stat_summary(geom = 'errorbar',
fun.data = 'semInterval',
width = 0.1,
show_guide = FALSE,
position = position_dodge(.2)) +
expand_limits(y = 0) +
#theme_bw() +
ylab(deunderscorefy(colnames(shortdf)[3])) +
#scale_fill_grey(name = deunderscorefy(colnames(shortdf)[1])) +
theme(text = element_text(size = textSize, color = "black"),
panel.grid.major.x = element_blank(),
panel.border = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black"),
axis.title.x = element_text( size = textSize),
axis.title.y = element_text( size = textSize),
axis.text.x = element_text( size = textSize * .8 ),
axis.text.y = element_text( size = textSize * .5 ))
library(ggplot2)
library(stringr)
library(plyr)
library(grid)
library(gridExtra)
library(methods)
library(xtable)
library(knitr)
library(dunn.test)
library(pander)
library(reshape)
labelswrap  <- lapply(strwrap(levels(shortdf[,1]), 7, simplify = FALSE),
paste, collapse = "\n")
thisylabel <- paste( strwrap( deunderscorefy( colnames(shortdf)[2] ),
28,
simplify = TRUE),
collapse = "\n")
myplot <- ggplot(shortdf) +
aes_string( x = colnames(shortdf)[2], y = colnames(shortdf)[3], group = colnames(shortdf)[1]) +
stat_summary( geom = "line",
size = 2,
fun.y = mean,
position = position_dodge(.2),
aes_string(color = colnames(shortdf)[1]) ) +
scale_color_manual( values = meaningfulpalette ) +
#scale_color_manual(labels = levels(shortdf[ , 1]), values = levels(shortdf[ , 1])) +
#stat_summary(fun.y = mean, geom = "bar", position="dodge") +
#stat_smooth(size = 1) +
stat_summary(geom = 'errorbar',
fun.data = 'semInterval',
width = 0.1,
show_guide = FALSE,
position = position_dodge(.2)) +
expand_limits(y = 0) +
#theme_bw() +
ylab(deunderscorefy(colnames(shortdf)[3])) +
#scale_fill_grey(name = deunderscorefy(colnames(shortdf)[1])) +
theme(text = element_text(size = textSize, color = "black"),
panel.grid.major.x = element_blank(),
panel.border = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black"),
axis.title.x = element_text( size = textSize),
axis.title.y = element_text( size = textSize),
axis.text.x = element_text( size = textSize * .8 ),
axis.text.y = element_text( size = textSize * .5 ))
myplot <- ggplot(shortdf) +
aes_string( x = colnames(shortdf)[2], y = colnames(shortdf)[3], group = colnames(shortdf)[1]) +
stat_summary( geom = "line",
size = 2,
fun.y = mean,
position = position_dodge(.2),
aes_string(color = colnames(shortdf)[1]) ) +
scale_color_manual( values = meaningfulpalette ) +
#scale_color_manual(labels = levels(shortdf[ , 1]), values = levels(shortdf[ , 1])) +
#stat_summary(fun.y = mean, geom = "bar", position="dodge") +
#stat_smooth(size = 1) +
stat_summary(geom = 'errorbar',
fun.data = 'semInterval',
width = 0.1,
show_guide = FALSE,
position = position_dodge(.2)) +
expand_limits(y = 0) +
#theme_bw() +
ylab(deunderscorefy(colnames(shortdf)[3])) +
#scale_fill_grey(name = deunderscorefy(colnames(shortdf)[1])) +
theme(text = element_text(size = textSize, color = "black"),
panel.grid.major.x = element_blank(),
panel.border = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black"),
axis.title.x = element_text( size = textSize),
axis.title.y = element_text( size = textSize),
axis.text.x = element_text( size = textSize * .8 ),
axis.text.y = element_text( size = textSize * .5 ))
myplot <- ggplot(shortdf) +
aes_string( x = colnames(shortdf)[2], y = colnames(shortdf)[3], group = colnames(shortdf)[1]) +
stat_summary( geom = "line",
size = 2,
fun.y = mean,
position = position_dodge(.2),
aes_string(color = colnames(shortdf)[1]) ) +
scale_color_manual( values = meaningfulpalette ) +
#scale_color_manual(labels = levels(shortdf[ , 1]), values = levels(shortdf[ , 1])) +
#stat_summary(fun.y = mean, geom = "bar", position="dodge") +
#stat_smooth(size = 1) +
stat_summary(geom = 'errorbar',
fun.data = 'semInterval',
width = 0.1,
show_guide = FALSE,
position = position_dodge(.2)) +
expand_limits(y = 0) +
#theme_bw() +
ylab("BW") +
#scale_fill_grey(name = deunderscorefy(colnames(shortdf)[1])) +
theme(text = element_text(size = textSize, color = "black"),
panel.grid.major.x = element_blank(),
panel.border = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black"),
axis.title.x = element_text( size = textSize),
axis.title.y = element_text( size = textSize),
axis.text.x = element_text( size = textSize * .8 ),
axis.text.y = element_text( size = textSize * .5 ))
textSize <- 12
myplot <- ggplot(shortdf) +
aes_string( x = colnames(shortdf)[2], y = colnames(shortdf)[3], group = colnames(shortdf)[1]) +
stat_summary( geom = "line",
size = 2,
fun.y = mean,
position = position_dodge(.2),
aes_string(color = colnames(shortdf)[1]) ) +
scale_color_manual( values = meaningfulpalette ) +
#scale_color_manual(labels = levels(shortdf[ , 1]), values = levels(shortdf[ , 1])) +
#stat_summary(fun.y = mean, geom = "bar", position="dodge") +
#stat_smooth(size = 1) +
stat_summary(geom = 'errorbar',
fun.data = 'semInterval',
width = 0.1,
show_guide = FALSE,
position = position_dodge(.2)) +
expand_limits(y = 0) +
#theme_bw() +
ylab("BW") +
#scale_fill_grey(name = deunderscorefy(colnames(shortdf)[1])) +
theme(text = element_text(size = textSize, color = "black"),
panel.grid.major.x = element_blank(),
panel.border = element_blank(),
panel.background = element_blank(),
axis.line = element_line(colour = "black"),
axis.title.x = element_text( size = textSize),
axis.title.y = element_text( size = textSize),
axis.text.x = element_text( size = textSize * .8 ),
axis.text.y = element_text( size = textSize * .5 ))
print(myplot)
shortdf
print(ggplot(shortdf) +
aes_string( x = colnames(shortdf)[2], y = colnames(shortdf)[3], group = colnames(shortdf)[1]))
print(ggplot(shortdf) +
aes_string( x = colnames(shortdf)[2], y = colnames(shortdf)[3], group = colnames(shortdf)[1])+    stat_summary( geom = "line",
size = 2,
fun.y = mean,
position = position_dodge(.2),
aes_string(color = colnames(shortdf)[1]) ))
shortdf <- invivodatasevendays[ invivodatasevendays$treatment %in% conds, colnames(invivodatasevendays) %in% c("treatment", myseries)]
shortdf <- melt(shortdf, id = c("animal"))
shortdf <- melt(shortdf, id = c("treatment"))
colnames(shortdf)[2] <- "day"
colnames(shortdf)[3] <- "bodyweight"
print(ggplot(shortdf) +
aes_string( x = colnames(shortdf)[2], y = colnames(shortdf)[3], group = colnames(shortdf)[1])+    stat_summary( geom = "line",
size = 2,
fun.y = mean,
position = position_dodge(.2),
aes_string(color = colnames(shortdf)[1]) ))
lol <- stat_summary( geom = "line",
size = 2,
fun.y = mean,
position = position_dodge(.2),
aes_string(color = colnames(shortdf)[1]) ) +    stat_summary(geom = 'errorbar',
fun.data = 'semInterval',
width = 0.1,
show_guide = FALSE,
position = position_dodge(.2))
myseries
print(myseries)
cat(myseries)
colnames(invivodatasevendays)
View(shortdf)
?melt
timeseriescolumns <- c("day.1.body.weight..g.", "day.2.body.weight..g.", "day.3.body.weight..g.", "day.4.body.weight..g.", "day.5.body.weight..g.", "day.6.body.weight..g.", "day.7.body.weight..g.". "day.8.body.weight..g.")
1:8
source('/dump/writingswork/draftthesis/thesis.R')
timeseriescolumns <- c("body.weight.gain.after.1.days..percent.",
"body.weight.gain.after.2.days..percent.",
"body.weight.gain.after.3.days..percent.",
"body.weight.gain.after.4.days..percent.",
"body.weight.gain.after.5.days..percent.",
"body.weight.gain.after.6.days..percent.",
"body.weight.gain.after.7.days..percent.",
"body.weight.gain.after.8.days..percent.")
shortdf <- invivodatasevendays[ invivodatasevendays$treatment %in% condsVDC, colnames(invivodatasevendays) %in% c("treatment", timeseriescolumns)]
shortdf <- melt(shortdf, id = c("treatment"), value.name = "bodyweight")
colnames(shortdf)[2] <- "day"
setattr(shortdf$day, "levels", 1:8)
?setattr
??setattr
shortdf
setnames(shortdf,timeseriescolumns,1:8)
library(data.table)
source('/dump/writingswork/draftthesis/thesis.R')
